<!DOCTYPE html>
<html>
<head>
	
	<title>Leaflet</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
     <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
 integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
 crossorigin=""></script>


    <link rel="stylesheet" href="style.css"/>
	
</head>
<body>

<div id="mapid" style="width: 800px; height: 500px;"></div>
<script src="index.js"></script>

<script>
//Create my map 
var mymap = L.map('mapid').setView([-34.91018,-57.94452], 12);

L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
    maxZoom: 18,
    id: 'mapbox/streets-v10',
    tileSize: 512,
    zoomOffset: -1,
    accessToken: 'pk.eyJ1IjoibWl6enkyMDIiLCJhIjoiY2t0aHVtNWI0MHZuODJ3dWU2OGdjZjBxMiJ9.Z5oB_qULFlnOpBwo10mT-A'
}).addTo(mymap);

//Add geojson 
L.geoJSON(inundaciones).addTo(mymap)

//Create an icon 
var LeafletIcon = L.Icon.extend({
    options: {
        iconSize: [38.95],
        iconAnchor: [22,94],
        popupAnchor: [3,76]
    }
})
var personIcon = new LeafletIcon ({
    iconUrl: 'https://leafletjs.com/examples/custom-icons/leaf-orange.png'
})

/*L.marker([-34.91018, -57.94452],{icon:personIcon}).bindTooltip("Entrevista 1.").addTo(mymap)
    .bindPopup(`
    <h1 tabindex=0 >Juan. Barrio: La Plata.</h1>
    <iframe tabindex=0 width="260" height="315" src="https://www.youtube.com/embed/cCJEH0NCbBY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    `);
*/

// remove the shadow pane (otherwise each shadow image is read out)
//$('.leaflet-shadow-pane').remove();
    
// prevent screen readers from reading out each map tile
//$('.leaflet-tile-container img, .leaflet-shadow-pane img').attr('role','presentation').attr('alt','');

//Functions

/*****
 * link: contiene url de youtube
 ****/
var createMarker = function (latlng,texto,link){
    var marker = L.marker(latlng).addTo(mymap);
    marker.on('keypress',function(e){ //Aca entra solo si es con un enter
        console.log('Entre!!');
        if(event.keyCode==13) {
            var d = document.getElementById('video');
            d.src = link;
        }
    })
    marker.on('click',function(e){ //Aca entra solo si es click de mouse
        console.log('Entre!!');
        var d = document.getElementById('video');
        d.src = link;
    })
} 


//Create 2 markers
createMarker([-34.933861,-57.9787715], `<h1 tabindex=0 aria-label="Holaa1" aria-hidden="true">Maria. Barrio: La Plata.</h1>`,"https://www.youtube-nocookie.com/embed/cCJEH0NCbBY");
createMarker([-34.91018, -57.94452],`<h1 tabindex=0 aria-label="Holaa2">Jose. Barrio: La Plata.</h1>`,"https://www.youtube-nocookie.com/embed/2J52CfXvGaQ");
createMarker([-34.9138982,-57.9758826],'holaa',"https://www.youtube-nocookie.com/embed/amKEijrl_3M");
//createMarker([-34.9138982,-57.9758826],'',"https://www.youtube.com-nocookie.com/embed/aUpJ3Ct2VQ"); 
//


</script>
<iframe id="video" tabindex=0 width="260" height="315" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</body>
</html>
